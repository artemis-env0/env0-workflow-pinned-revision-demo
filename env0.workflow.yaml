settings:
  environmentRemovalStrategy: detach

environments:
  preprod-bc-eastus2:
    name: PreProd BC East US 2
    templateName: packops-bc
    workspace: preprod-packops-bc-eastus2
    revision: v.1.0.0
    requiresApproval: false

  preprod-bc-centralus:
    name: PreProd BC Central US
    templateName: packops-bc
    workspace: preprod-packops-bc-centralus
    revision: v.1.0.0
    requiresApproval: false

  preprod-api-route:
    name: PreProd API Route
    templateName: packops-api-route
    workspace: preprod-packops-api-route
    revision: v.1.0.0
    requiresApproval: false
    needs:
      - preprod-bc-eastus2
      - preprod-bc-centralus
  
  preprod-compute-subStack:  
    name: AMD EPYC CPU COMPUTE INSTANCE - East US 2
    templateName: packops-compute-cpu-bc
    workspace: preprod-packops-bc-compute-eastus1
    revision: v.1.0.0
    requiresApproval: false
    needs:
      - preprod-api-route

  preprod-NVIDIA-RTX-PRO-6000-GB202-GPU-subStack:  
    name: AMD EPYC CPU COMPUTE INSTANCE - East US 2
    templateName: packops-compute-gpu-bc
    workspace: preprod-packops-bc-compute-eastus1
    revision: v.1.0.0
    requiresApproval: false
    needs:
      - preprod-compute-subStack
      
